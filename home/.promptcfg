POWERLEVEL9K_PROMPT_ON_NEWLINE=true

POWERLEVEL9K_LEFT_PROMPT_ELEMENTS=(disk_usage battery sc_status context dir vcs)
POWERLEVEL9K_RIGHT_PROMPT_ELEMENTS=(vi_mode background_jobs status ip time)

POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX=""
POWERLEVEL9K_MULTILINE_SECOND_PROMPT_PREFIX="%F{white} %h %f"

POWERLEVEL9K_DISK_USAGE_ONLY_WARNING=true
POWERLEVEL9K_DISK_USAGE_WARNING_LEVEL=80
POWERLEVEL9K_DISK_USAGE_CRITICAL_LEVEL=95

POWERLEVEL9K_BATTERY_ICON=''

POWERLEVEL9K_BATTERY_CHARGED_BACKGROUND='white'
POWERLEVEL9K_BATTERY_CHARGING_BACKGROUND='white'
POWERLEVEL9K_BATTERY_DISCONNECTED_BACKGROUND='white'
POWERLEVEL9K_BATTERY_LOW_BACKGROUND='red'

POWERLEVEL9K_BATTERY_CHARGED_FOREGROUND='black'
POWERLEVEL9K_BATTERY_CHARGING_FOREGROUND='black'
POWERLEVEL9K_BATTERY_DISCONNECTED_FOREGROUND='black'
POWERLEVEL9K_BATTERY_LOW_FOREGROUND='black'

POWERLEVEL9K_IP_BACKGROUND=130
POWERLEVEL9K_IP_INTERFACE="$(ip route get 255.255.255.255 | grep -Eo 'dev [a-z0-9]+' | sed 's/^dev //')"
POWERLEVEL9K_IP_CONTENT_EXPANSION='%046F⇣$P9K_IP_RX_RATE %226F⇡$P9K_IP_TX_RATE'

POWERLEVEL9K_VCS_UNTRACKED_BACKGROUND='red'

POWERLEVEL9K_VI_INSERT_MODE_STRING=''
POWERLEVEL9K_VI_COMMAND_MODE_STRING='vi mode'
POWERLEVEL9K_VI_MODE_NORMAL_FOREGROUND='white'

function prompt_sc_status() {
  systemctl --failed | grep "0 loaded units listed" >/dev/null && systemctl --user --failed | grep "0 loaded units listed" >/dev/null;
  if [ "$?" -ne 0 ]; then
    p10k segment -i '‼️' -b white
  fi
}
